# AWS Deployment Architecture
```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              AWS Cloud (us-east-1)                           │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                        VPC (10.0.0.0/16)                               │ │
│  │                                                                        │ │
│  │  ┌──────────────────────────────────────────────────────────────────┐ │ │
│  │  │               Public Subnet (10.0.1.0/24)                       │ │ │
│  │  │                                                                  │ │ │
│  │  │  ┌────────────────────┐         ┌────────────────────┐          │ │ │
│  │  │  │  Application Load  │         │      NAT Gateway   │          │ │ │
│  │  │  │     Balancer       │         │                    │          │ │ │
│  │  │  └─────────┬──────────┘         └──────────┬─────────┘          │ │ │
│  │  └────────────┼──────────────────────────────┼────────────────────┘ │ │
│  │               │                              │                        │ │
│  │  ┌────────────▼──────────────────────────────▼────────────────────┐ │ │
│  │  │            Private Subnet (10.0.2.0/24)                        │ │ │
│  │  │                                                                 │ │ │
│  │  │  ┌─────────────────────────────────────────────────────────┐  │ │ │
│  │  │  │               EKS Cluster                               │  │ │ │
│  │  │  │                                                          │  │ │ │
│  │  │  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────┐ │  │ │ │
│  │  │  │  │   User   │  │ Product  │  │  Order   │  │Analytics│ │  │ │ │
│  │  │  │  │ Service  │  │ Service  │  │ Service  │  │ Service │ │  │ │ │
│  │  │  │  │  Pods    │  │  Pods    │  │  Pods    │  │  Pods   │ │  │ │ │
│  │  │  │  └─────┬────┘  └────┬─────┘  └────┬─────┘  └────┬────┘ │  │ │ │
│  │  │  └────────┼────────────┼─────────────┼─────────────┼──────┘  │ │ │
│  │  └───────────┼────────────┼─────────────┼─────────────┼─────────┘ │ │
│  │              │            │             │             │             │ │
│  │  ┌───────────▼────────────▼─────────────▼─────────────▼─────────┐ │ │
│  │  │            Private Subnet (10.0.3.0/24)                       │ │ │
│  │  │                                                                │ │ │
│  │  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐     │ │ │
│  │  │  │   RDS    │  │   RDS    │  │   RDS    │  │   MSK    │     │ │ │
│  │  │  │  User    │  │ Product  │  │  Order   │  │ (Kafka)  │     │ │ │
│  │  │  │   DB     │  │   DB     │  │   DB     │  │          │     │ │ │
│  │  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘     │ │ │
│  │  │                                                                │ │ │
│  │  │  ┌──────────────────┐        ┌──────────────────┐            │ │ │
│  │  │  │  ElastiCache     │        │  EC2 Instance    │            │ │ │
│  │  │  │  (Redis)         │        │  (ClickHouse)    │            │ │ │
│  │  │  └──────────────────┘        └──────────────────┘            │ │ │
│  │  └────────────────────────────────────────────────────────────┘ │ │
│  └────────────────────────────────────────────────────────────────┘ │ │
│                                                                        │ │
│  ┌────────────────────────────────────────────────────────────────┐  │ │
│  │                    Supporting Services                         │  │ │
│  │                                                                 │  │ │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐      │  │ │
│  │  │   ECR    │  │   S3     │  │CloudWatch│  │ Secrets  │      │  │ │
│  │  │Container │  │ (Logs &  │  │  (Logs & │  │ Manager  │      │  │ │
│  │  │Registry  │  │  Backup) │  │ Metrics) │  │          │      │  │ │
│  │  └──────────┘  └──────────┘  └──────────┘  └──────────┘      │  │ │
│  └────────────────────────────────────────────────────────────────┘  │ │
└──────────────────────────────────────────────────────────────────────┘ │
                                                                           
┌────────────────────────────────────────────────────────────────────────┐
│                        External Services                                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐                             │
│  │ Route 53 │  │CloudFront│  │   WAF    │                             │
│  │   DNS    │  │   CDN    │  │Firewall  │                             │
│  └──────────┘  └──────────┘  └──────────┘                             │
└────────────────────────────────────────────────────────────────────────┘
```

## Cost Estimate (Monthly)

| Service | Configuration | Cost |
|---------|--------------|------|
| EKS Cluster | 1 cluster | $73 |
| EC2 (Worker Nodes) | 3x t3.medium | $90 |
| RDS PostgreSQL | 3x db.t3.micro | $45 |
| ElastiCache Redis | t3.micro | $15 |
| MSK (Kafka) | kafka.t3.small | $80 |
| EC2 (ClickHouse) | t3.medium | $30 |
| Load Balancer | ALB | $20 |
| S3 + CloudWatch | Storage & Logs | $10 |
| **Total** | | **~$363/month** |

## Free Tier Option (First 12 Months)

- RDS: 750 hours/month db.t2.micro
- ElastiCache: 750 hours/month cache.t2.micro
- ECS Fargate: Instead of EKS (simpler, cheaper)
- **Estimated Cost**: $50-100/month